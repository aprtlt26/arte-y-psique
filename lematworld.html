<!DOCTYPE html>
<html>
<body>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <script>


let audioCtx;



        
  document.addEventListener('contextmenu', function(e) {
    e.preventDefault();
    alert('El clic derecho está desactivado en esta página.');
  }, false);

 


  document.addEventListener('DOMContentLoaded', (event) => {
    verificarPermisoMicrofono();
});

function verificarPermisoMicrofono() {
    navigator.permissions.query({ name: 'microphone' })
        .then((permissionStatus) => {
            // 'prompt' significa que no se ha pedido el permiso todavía
            if (permissionStatus.state === 'prompt') {
                solicitarPermisoMicrofono();
            } else if (permissionStatus.state === 'granted') {
                alert("El permiso para el micrófono ya ha sido concedido.");
            } else {
                alert("El permiso para el micrófono ha sido denegado.");
            }
        })
        .catch((error) => {
            console.log('Error al verificar los permisos del micrófono:', error);
        });
}


</script>
<style>

body {
    background-color: black;
    color: #e6e6e6;
    font-family: 'Courier New', Courier, monospace;
    margin: 0;

    padding: 0;
    overflow-y: auto; 
    height: 100%; 
}



section p {
            font-size: 12px; 
            font-weight: bold; 
            line-height: 1.0; 
            color: #fff;
            text-align: justify; 
            margin: 0px 400px;
        margin-top: -350px;
        }

        @media (max-width: 768px) {
        section p {
            font-size: 9px; 
            margin: 10px 15px; 
            padding-top: -960px;
        }
    }

    @media (max-width: 480px) {
        section p {
            font-size: 9px; 
            margin: 10px 10px;
        }
    }

    @media (max-width: 320px) {
        section p {
            font-size: 8px;
            margin: 5px;
            
        }
    }

#ascii-art{
   display:flex;
    word-wrap: break-word;
    font-size: 5px;
    line-height: 1;
    z-index: 2000;
    cursor: pointer;
    margin: auto;

 }

    
#ascii-cat{
    white-space:pre-wrap;
    word-wrap: break-word; 
    font-size: 4px;
    cursor: pointer;
    margin: 50px;
    padding-top: -120px;
    margin-right: 10px;
 
   

}
    #ascii-container {
display: flex;    
height: auto; 
    z-index: -100;
margin-top: -200px;
margin-left: 100px; 
    margin-right: auto;
}


#p5-canvas {
    position: relative;
    top: 0;
    left: 0;
    z-index: 10; 
    cursor: pointer;
   margin-left: 30px;
   

}

#tree-sketch-container {
    display: flex;
    width: 800px; 
    height: 550px; 
    position: relative;
    top: 0;
    left: 0;
    font-size: 3px;
    margin-left: 280px;
    z-index: 1000;
    padding-bottom: 500px;
}


#color-bar-sketch-container{
   display: flex;
   justify-content: center; 
    align-items: center;
    z-index: 100;
    margin-left:auto;
    margin-right: auto;
    margin: auto;
    margin-top: -250px;
    width: 200px; 
    height: 200px;
    position: relative; 
}


#ascii-art-container{
  position: absolute;
  
  left: 30px;
  width: 80%;
  height: 80%;
  top:30%;
  
}



#ascii-sol {
    font-size: 4px;
    cursor: pointer;
    position: absolute;
    top: 0;            
    right: 0;           
    margin-right:90px; 
    z-index: 2000;      
}

#ascii-luna {
    font-size: 5px;
    z-index: 1000; 
    cursor: pointer;
    position: absolute; 
    top: 20;           
    left: 0;
    margin-left:90px;  
    z-index: 2000;

}

#rain-sketch-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2000;
            pointer-events: none; 

        } 

@media (max-width: 600px) {
    body {

        overflow: hidden;
        height: 100%;
    }

    #p5-canvas {
            width: 100%;  
            height: auto; 
            position: absolute;
            top: -200px;   
            left: 0;     
            z-index: 5;   
        }

        #ascii-cat {
            position: absolute;
            left: 0%;
            right: 0;    
            width: 100%; 
            font-size: 3px;
            z-index: 100;
            margin:10px;
            margin-top: 70px;
        }

     

    #ascii-art  {
        display: flex;
        font-size: 4px;
        margin: 0 60px; 
        margin-top: -140px;
        
    }
  

    #ascii-sol{
        display: flex;
        font-size: 2.3px; 
        margin-left: 0;
       z-index: 2000;
       margin: 8px;

    }
    #ascii-luna{
        margin-left: 0;
        margin-right:0;
        font-size: 2.8px;
        margin: 3px;

    }

    #tree-sketch-container  {
        display: flex;
        margin-left: 0px;
        margin-right:0px;
        width: 50%; 
    z-index: -100;
    height: 50vh; 
    }
    
    #color-bar-sketch-container{
display:flex;
margin-left: 0px; 
        margin-right: 0px; 

    }

    #ascii-container {
        display: flex;
        margin-top: 0; 
        margin-left: 0px; 
        margin-right: 0px; 
        flex-direction:row; 
        z-index:1000;
        
    }

    #rain-sketch-container {
        height: 50vh; 
    }

   }
@media (max-width: 600px) and (orientation: landscape) {
    body {
        flex-direction: flex
        ; 
        height: 100%;
        overflow: hidden;
    }

    #ascii-ArbolG-container {
    position: absolute;
    width: 100%;
    color: rgb(187, 242, 132);
    text-align: center;
    font-size: 10px;
    line-height: 1;
}


    #tree-sketch-container, #color-bar-sketch-container {
        width: 48%; 
        height: 40%; 
        margin-top: 5px; 
        margin-bottom: 5px; 
    }
 
    #p5-canvas{
        width: 48%; 
        height: 40%; 
        margin-top: -500px; 
        margin-bottom: 5px;
        }



        footer, .ultimo-elemento {
    margin-top: -500px;
    margin-bottom: -100;
    font-size: 10px;
    justify-content: center;
    text-align: center;
    color: rgb(142, 142, 248);
        }
 
    }


    @media (max-width: 768px) {
    #ascii-ArbolG-container {
        font-size: 8px; 
    }
}

@media (max-width: 480px) {
    #ascii-ArbolG-container {
        font-size: 6px; 
    }
}

@media (max-width: 320px) {
    #ascii-ArbolG-container {
        font-size: 5px; 
    }
}

#ascii-ArbolG-container {
    position: absolute;
    left: 50%;
    transform: translate(-50%, -50%); 
    z-index: 1500; 
    text-align: center;
    font-size: 11px; 
    width: auto; 
    height: auto; 
    top: 980px;
}


footer {
    width: 100%;
    padding: 5px 5;
    text-align: center;
    background-color: #000000;
    color: rgb(209, 209, 209);
    margin-left: -50px;
    font-size: 16px; 
    box-shadow: 0 -2px 5px rgba(255, 255, 255, 0.428); 
}



 

    @media (max-width: 768px) {
        section {
            display: flex;
            margin: 60px; 
            margin-top: -600px;
            justify-content: center;
            left: 0;
            right: 0;


        }

        #ascii-ArbolG-container {
    position: absolute;
    left: 50%; 
    transform: translate(-50%, -50%); 
    z-index: 1500;
    text-align: center;
    font-size: 5px; 
    width: auto; 
    height: auto;
    top: -480px;
}


    }

  



.body-content {
    margin-bottom: 0;
}

@media (max-width: 768px) {
    body {
        padding-bottom: 10px; 
    overflow: hidden;
    }

    footer, .ultimo-elemento {
    margin-top: 100px;
    margin-bottom: -100;
    font-size: 10px;
    justify-content: center;
    text-align: center;
    color: rgb(142, 142, 248);
        }
}

#container, .container {
    margin-bottom: 0;
    padding-bottom: 0;
}
* {
    margin: 0;
    padding: 0;
}
*,
*:before,
*:after {
    box-sizing: border-box;
}




</style>

</head>
<body>

<div id="rain-sketch-container"></div>

                  <div id="container" style="position: relative; width: 100%; height: 100%;  color: rgb(166, 198, 236);">

                       <pre id="ascii-luna">
                                               xxxxxxxx
                                          *******************.             
                          ,          ###/ ***************#%#%%##%#%%%##%(             
                              #%%%%##%%#/.   .,***********,,,*#%#%%##%#%%%##%(                                                  
                        , *##%###%/ .****************************. ,*#%#%%##%#%%%##%(           
                  (#*,   .  ,**,*, ###/ ***********************************,*#%#%%##%#%%%##%(             
                   /  #%%%%##%%#/.   .,***********,,,************************,. %###%##%#  ,,*,,*. *@    #  
                  ,,,,,.  %###%#%#..******.  .(#%%%%#%%%#,   ,**,***************. %#/          .*/##%%%%%(  
                  /*  ,***,. .%## *,*,. .(,   ..,**,   ./%%%%%(  ,***************, *#%#%%##%#%%%##%(. ,(    
            ,#%#%%%%%%%%%%%%%%%(.,,,   * %# &% & %/   ,#%%(  (%%%%  ,*************,..%##%#%%%(.     .,*     
               %   /%%#%%##%#%(.**  *.///*/& &% & &% & &, *%#%, #%#%. ,************* ,%#. .,**,*****,       
             .  &(*      .(%#% ,, &/.&&&(...*&&%&#&&.&& &,(* *%%( %%%% ,*************      ..,,  /@         
               ,,*,,,**,*,,,   ,.&&& /&%&#.  /&&&&&&%%& &//&.( /#% ,%%% .,***********,,#%#%%#%%%###%%##(/,. 
                 &    ./###%#., &&&%&, &@.   @ %&&&&%(%%&/%%*#&  ##.*##% ,,********,*, %#%###%##%%(*.  ./@  
         ,  .*(%%####%%#%####.. &&&&&&%/ &,*& &&&&&,%%&&&&&&,&#.# #% ###/.***********, #(,   .,,**,..   (   
                     ..,,*/((/ ,&&&&&&&& &&* (%#,.&&&&&&&&%&&& &,* #*,%## ***********.*#%/.  .*,***,        
                  @. *******.  .&%&%&&&% &&&&&%&&&&&&&&&&&&&#*&(.& (/.%## ,********,* ####%%%%%%#.  .(      
                 .*,*,,.. #%%#( #&&&&%&.&&&&%#.*&&&&%&&&&&&&&%/#&  #,/%%,.,********* *##%%%%%%%%%%#%####/   
                   # .##%#%%###( &&&&&(/%&&  ./%&&&#%%&&&&&&&&&% & % %%# ,*********.*%* .*******,  &@@&&&,  
              // .%%#%#%%%%%%%#(* %&&&&*,%&& (%   ,(&&&&&&&&&#.&&   #%# ,********* (#%##%(  ,*******. ,*    
              &%(*     , .*,*,,..#, &&%&&&%&&%&&*  .&%&&&&&&%&%#.  ##* ,********..%%%%%%%###%      ..,,*.   
                     @ .*,**,. %%##%  &&&%&&&&&&& &%&&&&&&&&&&&.  %( ,,******,.  ..   /%%##%%#%%. ,         
                     .*,.    %##%%%#%#/ ,%&%&&&&& (&&&&&%&%&, * /. *,*****,, (#%%% .,,***,   ,(%%#%/  /     
                         ( %%#%#%#%, ,*..(  #&&%&%# .,  .,*    .,******,.   ,%#%%##%  *****, *  @,  .//     
                       # %%%%%%/  ****.,%#%%%%.    .,*.   .,*,***,,. ,%%##..*,  #####%. *   .,              
                     &.##%%(  @,.,*** /%%##%( *, %#%%%#* . *(#%%%(   %###%% ,*,**  *%###. /                 
                   & ##%  %    .,,** (##%%( .,*, %#%### ,*, %###%*.*, *%%%%%  ,*,*. % .%%%.                 
                   #* //      ,*, , #%%%( & ***, %%%%%  *** /#%%%..***, #%%%# %  ,*.   *  (%. @             
                             . /%@ ##%( @ / *,,,.%%%% # ,*,, %#%%   *,*.  %%#,   *         * ,*             
                                % %## @   .,**. /##%,. /.*, .*#%% @/ **. # /#%..                            
                               ( %( @      *. @.##%*.    , /& %#%   % ,,   / %% /                           
                                % (         #   #%(           *## .          . %.                           
                                              @ %#           @ %#                                           
                                              . % @           .*(                                           
                                                              @ /                                         

                       </pre>
  
   </div>



    <pre id="ascii-sol" style=" color: rgb(255, 249, 182);">
                                                                                                   
                                 *&&&% (#%.#%/(     @.%%(,&%*..../                                  
                                 (#/%%((%%.#%#*@    @.%%*#%%.%%%.@      @#                          
                        @#..&#    @//%%.%%#/%%.@    &,%%.%&((%%.@     @.#**./@@                     
                    %.*%//%%//@%,./&/#%#,%&.%%,@   @(/%#*%%.%%,# ( & %.%%(,%%% %@(                  
                 @ ,#% %%%.#%# /#.&.@.#%*#%*/%*%*.,,,(%*%%,(%((@ %,& /%%.%%%,(%%#.@                 
                 &@,#%%#.%&#,%%.,%.&,%.%% && %#,.,,..%%.&%,%(,(*%.& #%#*%%//%%#.@*                  
                    @//%%(,%&,(%( #%.#&.##,%*#% .,,, %(*%,##.%#,&, %%.%%(,%%(,@.     @/ @           
          @/(# &@     @(,%%(*%%.%#..#&.&#**%%,% ,,,* %,%#*//&,%/#.%#,%%.#%(,@     @( %%%./@%        
       .@(* (%%%(.&@  ..,%.%%**%//%.,%&/&,#.&,# **,*.#.%.%.&#*&.*%.%%.#%/,%    @%.(%%%,*%%%.@       
       & (%%&%*.#%%(.&/,.,,  #%,(%.#((&.&%,(*#* **.**./#/((&(/&*(,&*/%/ .* *.%.(%%#.(&%%/.#(,@.     
     @**%%%(.*%%%%./%%#.(.* **.*%.#(.(&#*&#*,%..**.** %.(,&&.&&*%(*%*.*,.*. /%%*.%%%(.(%%%%*.#@     
      @@%.,#%%%%.,%&%/.#%#  *..**,. #.%&%,&&,.****.**,* #&&.&&(* *.**.**.*%%,*&%( (%%%( /@@         
           @@&,.#%%%,.%%%.*%(.** **** ,(&%  (,#%(%/&(%%*( .#&* .**, ****#.#%# (%%#,.#&&%%#/         
   @@&/  ,/.%#( ,.    .(/.#%(./.**,.**./*%.,./(.((,((,//...%,( *.,*** .%%./%%*.#.#&.#&,  %@&*.,(#*/ 
  & %%#(..,./&&%%%%%#..%&#.((.*%,.*,.#/..#*###############*(../#*,*...%&&&&&&&&&%.#/*. /##%%%%%%/ /@
 @,/,..*#%%%%%##* ,(/.%&%.%&&&%(*,. **.####*..,(#####/...,(###,*/,.%&&*.(%&&&&&&%,,%%%(,.,(#%&&%%& @
 &*#%&&%&%%%%%(*..*/%%%,(&&&(,.**.& ,*(#*.,*/.,#.##/*#.,**../#((. &.(&&%,,(%(,../#%&&%&%#/*...*(##.@
@&*%%%%%%%##(/*,..,*(%&&%#*.*%&#,( ,(#, *%*  &* ,##// ##  %%  ###, (, *#%&(/,..,/(#%%%%%%%%%%#(/**, 
 #((/*,......,,,***/(/*,...,,**.#//((#(,*(*,*/..*(#*/ **../(,.###(*/#.*****,,,...  .*/(&@@@..       
         ..,,,,,............... ,,.*########(###/(#*(##((#((#####*.., ,,,,,************,            
    ....@@@@@@&%/.      ..,****.%(,*(########/*#######*/########(*,(%.*,.  .,/(#%###((//*,... ...,,*
 ./(#%%%%%%%%%%%%#/,. .*(%&%(, , , (#############* *#############(.*./ *..,/%%&%%%#/,. .,*(##%%%%%*#
 @*(*...*(%%%%&%%%(,.,/##(,.(&&&/,&.,(#######.,.     ...########,.&*.%&&&#*...,/##(*..,(%%&%%%%%%%//
 @*%%%&&#*../(%%%%(.#&&&&&#*.,#&&&.,#.,#(##/(###,   .###*###(#*.%, &&&&#*..,,,*#&&/ ,/%%%%%%#(/..,,@
  ( #%%%%%%#*.*#//%.(&&&&&&&&#*.(.**.*#.,(//####*###*(###(//, %,.**, , *#&&%(**(&%,(% %@@%* ,(%%% @ 
  @*/*.,%@%   .%/*&,//.(%#,*%(. ***.,*,,,&*. *( ((,((,(*..*%,,,**,.**,,*,%%*,#%(,,.#%,,##     &@@%  
             /%%* /%%#,*&%,*%.*** *** ,.&&(.../%/&,&*#/,. #&*.#,.***.,*,*%#./%%/.(%%#,  .,          
         /@&.,#%%%,,%&%./%%.,*,,** (.% &&*(&% (.**,*** %&#/&& # %.* *** *, *%%/.%&%( /%%%#,,&@@     
      @(./%%%%*.#&%# #%%, ,* ,* (%.%# %&/#&*(.% **,**...&&(,&&.#,(% %# ,*.,,,,*%%#.(%%%#./%%%.#(    
       @(.*.%%%%,,%%%,*(.,.*. (%,#%.#*(%,&((/#//,*,,*.*(*(&&**&&.( %%.%%.,.*.,.@**%%%( #&%%(/@      
        @*(%%.(%%%*,@@   ,&.#%(*%(*%,.%#/&,#.&.#.*,,*.%.%.(.(&&.&%*(,%%.%%**&    @@*,%%%#,./@       
          @&.#%(.%@     @.#%#.%&.#%./#&.%#*,%%,%.*,,*.%*%%,%.*#& &.%%.%%(,%%(*@@    @@**/(@         
            @,%@     #&.#%%.%%#*%( (%,/%.##*&*## ,,,..%#,%,(% .&.%/*(%#,%%(*%%#.@@                  
                   @&.%%%,#%&.#%/.&.%**,#%.%%.##. *, ((%.%%.%% % &.@%,%%,(%%//%%#.#@                
                  @ #%%(,%&#,%%,#*(%/%#(%#*&%*%#,/../%*%(*%#/%( &.%.,& %%# %&%,(*./@                
                    /@.(&%.#%%.@@./#.%.%% &%*#%#/%   @,%%.%%,#%/#.    @,#%%/*#.%@                   
                       &@#(.#,@     &,%%/(&& %%*#    @.%%/#%% %%,#@    @%. @@                       
                                   @,#%%.%&(*%% &    #*#%%.%&#/%%,&                                 
                                   &##(,*(#,,(% @    /(/#* *,, %&@#    
                                   
                                   
                                </pre>
                            </div>


                            <script>
                                let audioSol = new Audio('ambient.wav');
                                audioSol.loop = true;  // Habilitar reproducción en bucle
                                audioSol.volume = 1.0;  // Establecer el volumen al máximo
                            
                                document.getElementById('ascii-sol').addEventListener('click', function() {
                                    if (audioSol.paused) {
                                        audioSol.play();  
                                    } else {
                                        audioSol.pause();
                                        audioSol.currentTime = 0;  
                                    }
                                });
                            </script>
                            
                            <script>
                                let audioLuna = new Audio('0S.wav');
                                audioLuna.loop = true;  
                                audioLuna.volume = 1.0; 
                            
                                document.getElementById('ascii-luna').addEventListener('click', function() {
                                    if (audioLuna.paused) {
                                        audioLuna.play();  
                                    } else {
                                        audioLuna.pause();
                                        audioLuna.currentTime = 0;  
                                    }
                                });
                            </script>
                            


<div id="tree-sketch-container"></div>    

    
 

        
        <div id="color-bar-sketch-container"></div>

        <div id="ascii-container" class="container">

        <pre id="ascii-art" style="color: rgb(193, 193, 193);">
                ./##/,((/****,,,,,,,*(.,,/*,*,,*(##((*(///*****..,,.,,..,..,......         
                *                                                                         /   
              ,    ,%%%#((((((///////*******////////**,,,..                                 , 
                   ,@                                                                  *&    /
                   ,&                                                                  *&     
                   *&,..,,,,,****/////(((((###%%#&&#&%&&&&%@%@&&@@&&@@@@@@@@@@@@@@@@@@@@%     
                   *&                #%%(      /#,/.((,*(.(,#../(/                     /%     
                   *&                &%&&x xxc .%.,#*#.%,(#(%.,%(%%                      /%     
                   *&                 #,(/**....,,,*//**,#(#%,/*/#,                    /%     
                   *&                   (&//*,*/.*/*#,(.%&.#.**,#/#                    /%     
                   /&         (&//,*#%,     (&%(,/%/*(((((/#%,&#/,.(                   (%     
                   /&        %#(//**/*,/*     #.&..,(,(*(#/..,..../%                   (%     
                   /&   .(.../%(*.#,,#*.       .(.(*#%,#&#//.....*..(                  (%     
                   (&   @*.,,*((&(##/.%###/%%&#/ **(,,(/*%(%*//(/.*,,.*                #%     
                   (%    #,..*(&(/%##(,/((/*&%#....,*(#(/*,%(#(,#.,,,.     (#%,,&/     #%     
                   #&       #&(*##*(./.   ,###(*&#*%%,#&#%(*,**.%,*(#%#((.#&%#,*#/,,   #%     
                   #%      &##/.#%.*&.*..&(/,*/,%(((%,##*#*##%.#**,(( **%,&,#(.#,*/(#* #%     
                   #%    */##*,.(&.,,#,/,((****(,##%,&#*&#*#(,/*******#,,*,&.*,        %%     
                   #%    %.(/.,//#,*,/.,%*******%./###*##(.*/***(..../(**/.,#          %%     
                   #%    #.(,*.%.,(,*,/,%&*%******,*((#(/**(/,***,.,,,.*,.#            %#     
                   %%     **.,(.,,(./,,(%&/#**/#(#****%#***#&/##,((*#,.,,..,#          &#     
                   %%        #/..,../#,/%%/(&(####(,###%&%%%@///%*,&.,,,,,,.,**        &#    ,
                   &%          ,.&/((.*/#&%%&&(##&//(#&#&%###**,**,,,.,,,,,,,,.#       &#    .
                   &%          ,##/.   #(%%%####%(&##&#%###%#*,*,,.,,,.,,/,/##(#&#     &#    .
                   &%                 ,#&&%(#%##%&##&#%#%###%(/,,,,,*(./*.,.,,,&,/*    @#     
                   &#                /&%##%%#(#%###%&####%&#&#*&%/*(%#((.,.,,,**,#     @(    .
                   &#               %(###*%#&&&#(&#%#%%#&#&%(##%(/*%(/(%.,.#&@,.*      @(    .
                   &#             &#((&(%&#.*((@&%#%#&&#@%%%&&%%   *(/%#%.*.,,.(       @(    .
                   &#           &&&%%#%######(#&/(,,(*&@%%###%.       .(**/.,..#       @(    .
                   &(         %##(#%#%#%#####%#%##&%&(.(./(/            ##.,,,.#       @(    .
                   &(       #%%%%&##&#%######%#%#%%&##@#%(#,            ,&.&,.,#       @(    .
                   &(     .%%#%#&(#%########%##%(%%%#&%%%%%%@            #,#,,,*   &(/ @(    .
                   @(    %%##&%(%####%#&#(##%##%(%%##%##%&#%&%.           %&..*@%/(#(  @(    .
                   @(  .&%(##&@@&@@%((//(#%&&&&&%%%#(#####%%%(%           . #/,*#,,#// @(    ,
                   @( ./**/%%&(#%%(/*****#&@#%%&&%(/,......,*#&*              &*,*#.#/ @(    .
                   @(   /*(.@&%#&&&(,.,,,#%#&%#%(%#%#%...#.,..(,             ,#(((.%#  @(    ,
                   @/   .*@*/,,./&&#(*.,.&%%%(#%(&(&##...,*.,,,,            %(#/#/     @(    .
                   @/   *,..,,*..,/.%.,,,.%@#####%(&(#,.,*@,,.,#          .&#%         @/    ,
                   @/   /.,/*%(..*%%*..,**(.%,&###(&##,,/,%(,,..(        ,##%          @/    ,
                   @/   (((,,,..,/%#,,,%,(,.,& ,&##%#&.,**,(.,..(       (((/           @/    ,
                   @/ /*..,.,##(/..,,,/#..#..*  @%###/.(%*%..,.#./     #(#.            &/    *
                   @&/%#.*#,,,..,...,..,%...#   /,.#%.,,,,./&./,.%    &(&              &*    *
                   @/*,*%%*,,&/.(#,..#..,..#    %(.(.*((,,&(..,(.(  .#(%               &*    ,
                   @&@**,,.,......#,....#**      **.......,*(..,.,,*(#/                &*    ,
                   @/.*%&##(#&(/%./&/...,,(            #**(/,...,.&##,                 &*    ,
                   @(//#(//,((%(*#,/...,.*,           .(*#//...,,%(&                   &*    ,
                   @/*.//    %*///,..,./*.,.  .#/* ,,  %/#/*,,.(((%                    &*    ,
                   @/%.*  @. &%,(,..,.# .//*#,/#%*/(%&( @%(,.,%#%.(                    &*    *
                   @* @.##%( @*(.,.,.#   .*/(%,(#*##/(.  %(*(#(%..(   .,.   .@/        &*    ,
                   @* /*&#*#,*(.,,.,&,./(*..,(#*%/..,*//,.*&##*...,*      %.% /,(/*(*  @*    ,
                   @%,(,,*/(#%.,,,/,.(,*#//(##.(.//..,*,.(##&&#(...&  ./#,#.%,#//*(%/%*&,    ,
                   @*./,,,*(#,,,,/,.,,,///%.,,,.(.(/,...%##*,,%/*,,,**//&*/*((/*(#,%,  &,    ,
                   &*,./,%%#**/,(.,,(**#,,......,,*,,.,##%....*%(,..&,.(*.*%#*(%/.,,,,*&,    ,
                 ,,&*,.%##(#&%##%,,*#%&#.,./((.*/.(/.%(#/.....,#(*.,.%..,..,,,/#(/(#.,/&,    ,
                 .,&*,.,.,/#######&/,..,,,((,#,*/%*(%#%......,.(%#%&&##%*.,,,,,*&/ *((*&.    ,
                 .,&*....,...,.%#&###(%,,,,.(%/(%,%##*,,.,,.,,.&#############&.,,(,&*&*&.    ,
                 ,,&,.........,.,,,,,,,,,,,*,,,***,**********************************/#&.    ,
                 *,&,                       %/ %   (  % ,**  &  (                     .&.    ,
                  .&,                                                                 .&.    ,
                                                           .......,,,,****************//.   ,.
              .(                                                                          ,*  
                 ,(%#/,                  ,                                           ,*##,   
               
          
         
             
    </div>


        <pre id="ascii-cat" style=" color: rgb(189, 252, 255);">                                                               
 
            @(,                                                 
            %(,*/%&                                               
 @r         **.##/.,,                                              
/,/       /**#.*%*,                                              
/**%./(     //.#../#....                                           
(*/#%(.((/(/../#&&&&%%(*.,,,                                                
/*,%*,%#*./%&&&&&&&@&&@&&/.,                                       
(,*%/..,(%*/&&&&&&&&@&&&(,.,,                                     
,/(,(%#,.#%,(&&&&&&&@&%,(&%*....                                             
 /,##(*,*,*%&&&&@&&&#,.*&&&&&&*..                                 
(*.%&&(%&&&&&&&&&&&&%&&&&&&&&&%..                 (#(..,,,        
(,/%&//%%%&&&&&&&&&&&&&&&&&&&%,..               ,#,/%%%/,..,,     
(,/%&(*#*(%*%&%&&&&&&&&&%(*. ,.,              .#**%%&**%%%(*,...  
(*.%&%.%#*%/(#*&&&&&%&%%%%/,.*               &#.#&&&&&%%,/%%%*,,.,
 /*(&&&&&&&&&&&&&&%*.,*/##,.,              @%*,&&&&&%&/,&%#.%&&%.*
//,,,(&&@&&&&&&&%@&&&&&&&&&,,,           .%%,*%&&&&%,*#%&&&&%%*,*(.
/(*,(%&&/#@&#*%&&%(/&&#%&%&&&%#.,   .,.#%#(/.*&&&&&&(.#&&&&&&#,,*(/   
//,*%&&&&&&&&&&#,#*(#(*%(,%(,,//,/(///(#%%%&&&&&&&&%**%%&@&%*,/,%       
//./&&&&&&&&&&&&&&&%#(*,/./%/,*,%%&&&&&&&&&&&&&&&%(.*%%&&&%,*#,*          
**.(&&&&&&&&&&&&&&&&&&&&&&&&%%%%%/,#%&&&&&&&&%/,*(%&&&&&&%,*.(             
./*,#.#%/#&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%/,,,,,/#&&&&&&&&&&%/,#/               
...%%&% #(*%&((&&#&&&&&@&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%*,%&                 
,.,&&&&&&(,..##,%&*/%*%&&&&&&&&&&&&%%&&&&&&&&&&&&&%(*,.,,/%&@                   
,.,&&&&&&@&%%%,..%#,((*%#,%%#,&&%,&%#,%%&%&&&&&@&@&%%,,%                        
,.,&&&&&&&&&&&&&&(,,,,(.##.(%%,(%&(.#%%,(%(,(%&&&%/.(&%                         
../%,%&&&&&&&&&&&&&%%%**,.*.,#%*,#%%/....***(.(#%/                             
.,(**/((&#&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%%%./%                                 
,.,%&(,/,##*%&&&&&&&&&&&&&&&&&&&&&&&&@@&&(.(%#                                  
,.,&&&&#,.*#*/%%,%&//&&%%%&&&&&%&&&@&&&(./%                                     
.,*%&&&&&&#(*,/%.(%(,#%(,%%/*&%/,%&%# (%,                                      
,//%&&&&&&&&&&%/*/,,,.*#(,,*,*/(#*,#%,                                        
.,%,(%.%%&%/%&&&&%&&%&&&&&&%%%(*.#%%                                           
.,&&%.//,%%(,%(/%,##,*%%%/,,*(/*                                               
.,&&&&&%%#/,*,,#,/#,.,,/(/.                                                    
,.,&&&&&%&&&&&&(.*                                                              
,.,&&&&&*/%&(,*//                                                               
,.,&&&&&,/,*/*                                                                  
.,&&&%,AA/                                                                      
.,&#,*(,A                                                                       
vvvvvv
vvvvvv
vvvvvv
vvvvv
vvvv
vvv
vv

</div>

<pre id="ascii-cat">
 
    @(,                                                 
    %(,*/%&                                               
@r         **.##/.,,                                              
/,/       /**#.*%*,                                              
/**%./(     //.#../#....                                           
(*/#%(.((/(/../#&&&&%%(*.,,,                                       
/*,%*,%#*./%&&&&&&&@&&@&&/.,                                       
(,*%/..,(%*/&&&&&&&&@&&&(,.,,                                     
,/(,(%#,.#%,(&&&&&&&@&%,(&%*....                                             
/,##(*,*,*%&&&&@&&&#,.*&&&&&&*..                                 
(*.%&&(%&&&&&&&&&&&&%&&&&&&&&&%..                 (#(..,,,        
(,/%&//%%%&&&&&&&&&&&&&&&&&&&%,..               ,#,/%%%/,..,,     
(,/%&(*#*(%*%&%&&&&&&&&&%(*. ,.,              .#**%%&**%%%(*,...  
(*.%&%.%#*%/(#*&&&&&%&%%%%/,.*               &#.#&&&&&%%,/%%%*,,.,
/*(&&&&&&&&&&&&&&%*.,*/##,.,              @%*,&&&&&%&/,&%#.%&&%.*
//,,,(&&@&&&&&&&%@&&&&&&&&&,,,           .%%,*%&&&&%,*#%&&&&%%*,*(.
/(*,(%&&/#@&#*%&&%(/&&#%&%&&&%#.,   .,.#%#(/.*&&&&&&(.#&&&&&&#,,*(/   
//,*%&&&&&&&&&&#,#*(#(*%(,%(,,//,/(///(#%%%&&&&&&&&%**%%&@&%*,/,%       
//./&&&&&&&&&&&&&&&%#(*,/./%/,*,%%&&&&&&&&&&&&&&&%(.*%%&&&%,*#,*          
**.(&&&&&&&&&&&&&&&&&&&&&&&&%%%%%/,#%&&&&&&&&%/,*(%&&&&&&%,*.(             
./*,#.#%/#&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%/,,,,,/#&&&&&&&&&&%/,#/               
...%%&% #(*%&((&&#&&&&&@&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%*,%&                 
,.,&&&&&&(,..##,%&*/%*%&&&&&&&&&&&&%%&&&&&&&&&&&&&%(*,.,,/%&@                   
,.,&&&&&&@&%%%,..%#,((*%#,%%#,&&%,&%#,%%&%&&&&&@&@&%%,,%                        
,.,&&&&&&&&&&&&&&(,,,,(.##.(%%,(%&(.#%%,(%(,(%&&&%/.(&%                         
../%,%&&&&&&&&&&&&&%%%**,.*.,#%*,#%%/....***(.(#%/                             
.,(**/((&#&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%%%./%                                 
,.,%&(,/,##*%&&&&&&&&&&&&&&&&&&&&&&&&@@&&(.(%#                                  
,.,&&&&#,.*#*/%%,%&//&&%%%&&&&&%&&&@&&&(./%                                     
.,*%&&&&&&#(*,/%.(%(,#%(,%%/*&%/,%&%# (%,                                      
,//%&&&&&&&&&&%/*/,,,.*#(,,*,*/(#*,#%,                                        
.,%,(%.%%&%/%&&&&%&&%&&&&&&%%%(*.#%%                                           
.,&&%.//,%%(,%(/%,##,*%%%/,,*(/*                                               
.,&&&&&%%#/,*,,#,/#,.,,/(/.                                                    
,.,&&&&&%&&&&&&(.*                                                              
,.,&&&&&*/%&(,*//                                                               
,.,&&&&&,/,*/*                                                                  
.,&&&%,AA/                                                                      
.,&#,*(,A                                                                       
vvvvvv
vvvvvv
vvvvvv
vvvvv
vvvv
vvv
vv

</div>

<pre id="ascii-cat">
 
    @(,                                                 
    %(,*/%&                                               
@r         **.##/.,,                                              
/,/       /**#.*%*,                                              
/**%./(     //.#../#....                                           
(*/#%(.((/(/../#&&&&%%(*.,,,                                       
/*,%*,%#*./%&&&&&&&@&&@&&/.,                                       
(,*%/..,(%*/&&&&&&&&@&&&(,.,,                                     
,/(,(%#,.#%,(&&&&&&&@&%,(&%*....                                             
/,##(*,*,*%&&&&@&&&#,.*&&&&&&*..                                 
(*.%&&(%&&&&&&&&&&&&%&&&&&&&&&%..                 (#(..,,,        
(,/%&//%%%&&&&&&&&&&&&&&&&&&&%,..               ,#,/%%%/,..,,     
(,/%&(*#*(%*%&%&&&&&&&&&%(*. ,.,              .#**%%&**%%%(*,...  
(*.%&%.%#*%/(#*&&&&&%&%%%%/,.*               &#.#&&&&&%%,/%%%*,,.,
/*(&&&&&&&&&&&&&&%*.,*/##,.,              @%*,&&&&&%&/,&%#.%&&%.*
//,,,(&&@&&&&&&&%@&&&&&&&&&,,,           .%%,*%&&&&%,*#%&&&&%%*,*(.
/(*,(%&&/#@&#*%&&%(/&&#%&%&&&%#.,   .,.#%#(/.*&&&&&&(.#&&&&&&#,,*(/   
//,*%&&&&&&&&&&#,#*(#(*%(,%(,,//,/(///(#%%%&&&&&&&&%**%%&@&%*,/,%       
//./&&&&&&&&&&&&&&&%#(*,/./%/,*,%%&&&&&&&&&&&&&&&%(.*%%&&&%,*#,*          
**.(&&&&&&&&&&&&&&&&&&&&&&&&%%%%%/,#%&&&&&&&&%/,*(%&&&&&&%,*.(             
./*,#.#%/#&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%/,,,,,/#&&&&&&&&&&%/,#/               
...%%&% #(*%&((&&#&&&&&@&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%*,%&                 
,.,&&&&&&(,..##,%&*/%*%&&&&&&&&&&&&%%&&&&&&&&&&&&&%(*,.,,/%&@                   
,.,&&&&&&@&%%%,..%#,((*%#,%%#,&&%,&%#,%%&%&&&&&@&@&%%,,%                        
,.,&&&&&&&&&&&&&&(,,,,(.##.(%%,(%&(.#%%,(%(,(%&&&%/.(&%                         
../%,%&&&&&&&&&&&&&%%%**,.*.,#%*,#%%/....***(.(#%/                             
.,(**/((&#&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&%%%./%                                 
,.,%&(,/,##*%&&&&&&&&&&&&&&&&&&&&&&&&@@&&(.(%#                                  
,.,&&&&#,.*#*/%%,%&//&&%%%&&&&&%&&&@&&&(./%                                     
.,*%&&&&&&#(*,/%.(%(,#%(,%%/*&%/,%&%# (%,                                      
,//%&&&&&&&&&&%/*/,,,.*#(,,*,*/(#*,#%,                                        
.,%,(%.%%&%/%&&&&%&&%&&&&&&%%%(*.#%%                                           
.,&&%.//,%%(,%(/%,##,*%%%/,,*(/*                                               
.,&&&&&%%#/,*,,#,/#,.,,/(/.                                                    
,.,&&&&&%&&&&&&(.*                                                              
,.,&&&&&*/%&(,*//                                                               
,.,&&&&&,/,*/*                                                                  
.,&&&%,AA/                                                                      
.,&#,*(,A                                                                       
vvvvvv
vvvvvv
vvvvvv
vvvvv
vvvv
vvv
vv


hbggvh
v

 </div>
<div>

</div>

<div id="ascii-ArbolG-container" style="position: absolute; width: 100%; height: 100%;  color: rgb(187, 242, 132);">
    <pre id="ascii-ArbolG" style="text-align: center; ">

                                                                                           
                             *%.#%(#*#%&&&#&*(##%.                              
                          /*%/(((*.%,..,(,*,,%(..,#(@%*                         
                       *#%##*/##*(,@ *,  ,.& &(& (**,@#%#/                      
                    ,./&,*.*#%(//   %  ## %    /%    ,*//#&#                    
                   ,,(*%. ## ( * ( /. &%%&&      (/ ,   #(#(#%#                 
                 *%*#/*#&  .  @ .  #  &     (& ,/  * ,.&&@  *(#(%               
             /%#%/**,(%@@%@,/(   &*(  & , &,%  .   ,./, (#/ .//( .              
           (%%(**(.*     ,  & &,   & .&%/ @*      ,% ./,   ((* ##(%,            
          #/(., /  *@%/*@@&%# #, .  &*%&@@(,  , %  ***(/* *, .%. ,,%#%          
          . %* #          * (, &%  *  &@&&(@@@. &.   .   .  ,   &*/*%/%         
             *  . /(   .  //     @%#..@@#@ (#      .*#/  /  (*      /           
           ,*/.,* //#* (@((*#   %  @% @&%,  *,  /,  ,*    *,( #, %/(@((#        
         (%%((#/#(%/    .*   #    @@%@@@%   .     /&%@   (#&      @,/#%#/(      
      #(#%((((%@ @ #(  *.       .   @&@@&#     %& .       @ ( ., ,.*@..*(((*    
    .#/%&/(#(.  , %    *.   @@* / #  @%#%(     &%  (,   ,.  .@@  %   (%#        
       &#*     #  ,,. ,*/@  ,  @#(   @%(*%  //&@   (  . *  (   .   . ,//*#(,    
         *(##   #%,   ,(/  // ,  /@@&#&#(%%(@  ,   /         ,    ./  .,//*.    
        #(,# %,    &,(* @&#&##/&     @@&#&%@  .*  *(&###,.&.%# (##(% *          
    ,%,&%(%@&      . ,&/  &@  @@@&#/ @@&%&%    ((%@@@@(  ##,,.   . %&#(         
      //#.      ( /     & ,,*.    (@@%%#/##&@@@ .#*  . . %   ..    /(#.#        
           # /#(.  . ((#  ,(   .* # @@@%#(%@     #/    *   @  //     ./         
         .%%#*/((##@@     *, .  / .  @@@(#%@ .,  **    /       #  @ /##@(/      
         . %//@   **,*     (    /    @@#(#%&              .##      /(%#%*%%     
          &%#.     /      // .       @&(&/(%              ,,. . */   #%(        
                   .  .             @@%%(/%&                                    
                                    @@@(//#&                                    
                                    @@%%(/%&                                    
                                    @@@(//#&                                    
                                    @@%%(/%&                                    
                                    @@@(//#&                                    
                                    
                                    @@%%(/%&                                    
                                    @@@(//#&                                    
                                    @&@##(/&%                                   
                                   @@&#@/&##(%                                  
                              @@&@@#&@@@/#/%#&&/&&(                             
              .,*/,*(#&@%&@&@#@%%@&@@#%/@@@(%#@@&@%%(&/#@&&%#/,,...             
   (....,(#@(.(*(##,*//,,,.. (        (....,(#@(.(*(##,*//,,,.. (.         
   
(##
                </div>

                <div></div>
<section>
  <p> 
     
  

    ----------------- 
   / Usage control: /
   -----------------

    -------
   / Clic /
   ------
    start sound.

    Double Click: Changes to a slow 
    tempo.

    Cat: white noise. Puddle W.
    Sun: Audio (play&stop)
    Moon: Audio (play&stop)
    
    Move the mouse pointer to alter the 
    sound frequency.

    -------------------------------------

    ------
   / Key /
   ------

    Space bar: start sound (optionally).
    It generates white noise and a puddle 
    of water when the sound has already 
    started.

    S: audio of the sun. (play&stop)
    L: Moon audio (play&stop)

    Note:
    You can create a soundscape freely by 
    playing with the elements or follow 
    the score. 

    Enjoy.


</p>
</section>

 <footer>
    <p>  Develop & AVS design by Alfonso Pretelt 
    ® All rights reserved. </p >
 </footer>
<script>
    
        let oscilador;
        let gainNode;
        let compressor;

        let whiteNoiseSource;
        let whiteNoiseGain;
        let shuffleInterval = null;
        let currentIntervalId = null;
let currentIntervalSpeed = 50; 


function startAudioContext() {
            if (!audioCtx) {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                oscilador = audioCtx.createOscillator();
                gainNode = audioCtx.createGain();

                gainNode.connect(audioCtx.destination);
                oscilador.connect(gainNode);
                oscilador.start();
            }
        }

        function solicitarPermisoMicrofono() {
            navigator.mediaDevices.getUserMedia({ audio: true }).then(function(stream) {
            
            }).catch(function(error) {
            
            });
        }

        function iniciarInteraccionUsuario() {
            iniciarAudio();
            solicitarPermisoMicrofono();
            document.removeEventListener('touchend', iniciarInteraccionUsuario);
        }

        window.onload = function() {
            alert('Toca la pantalla para activar el sonido y los permisos.');
            document.addEventListener('touchend', iniciarInteraccionUsuario);
        };


        function toggleIntervalSpeed() {
    if (currentIntervalId !== null) {
        clearInterval(currentIntervalId); 
    }

    currentIntervalSpeed = currentIntervalSpeed === 50 ? 550 : 50;

    currentIntervalId = setInterval(shuffleAsciiArtAndSound, currentIntervalSpeed);
}




    function shuffleAsciiArtAndSound() {
        
        
        let newText = '';
        const characters = ['@', '#', '$', '%', '&', '*', '-', '+', '=', '?', ';', ':', ',', '.'];


        
        for (let char of asciiArtElement.innerText) {
            if (characters.includes(char)) {
                let randomChar = characters[Math.floor(Math.random() * characters.length)];
                newText += randomChar;
            } else {
                newText += char;

                
            }
        }


        
        asciiArtElement.innerText = newText;
        oscilador.frequency.value = Math.random() * (100 - 2200) + 100;
    }

   



    document.body.addEventListener('click', function() {
    if (!audioCtx) {
        startAudioContext();
        if (currentIntervalId === null) {
            currentIntervalId = setInterval(shuffleAsciiArtAndSound, currentIntervalSpeed);
        shuffleAsciiCat(); 
        setInterval(shuffleAsciiCat, 10); 
    }}
});



document.body.addEventListener('dblclick', function() {
    toggleIntervalSpeed();
});

const asciiArtElement = document.getElementById('ascii-art' );

document.getElementById('ascii-art').addEventListener('mousemove', function(event) {
    if (!audioCtx) return; 

    const frequency = (event.offsetX / this.offsetWidth) * (2200 - 100) + 100;
    oscilador.frequency.value = frequency; 


 const gainValue = 0.1 - (event.offsetY / this.offsetHeight);
 gainNode.gain.value = gainValue;
});







let osciladoresActivos = [];

 
        let prevMouseX = 0;
        let prevMouseY = 0;
        let mouseMoving = false;
        
        function setup() {
            let asciiArtContainer = document.getElementById('ascii-container'); 
            let desiredHeight = 400; 
            let canvas = createCanvas(asciiArtContainer.offsetWidth, desiredHeight);

  
         canvas.position(asciiArtContainer.offsetLeft, asciiArtContainer.offsetTop);
         textSize(22);
            fill(255);
            noStroke();
    background(0); 
 }
 function windowResized() {
    let asciiArtContainer = document.getElementById('ascii-container');
    let desiredHeight = 400; 
    resizeCanvas(asciiArtContainer.offsetWidth, desiredHeight);
    canvas.position(asciiArtContainer.offsetLeft, asciiArtContainer.offsetTop);
}


        function draw() {
            if (mouseX !== prevMouseX || mouseY !== prevMouseY) {
                mouseMoving = true;
                let char = generarCaracterAleatorio();
                text(char, mouseX, mouseY);
        
              
                
                prevMouseX = mouseX;
                prevMouseY = mouseY;
            } else {
                if (mouseMoving) {
                    background(0);
                    mouseMoving = false;
                }
            }
        }
        
        function generarCaracterAleatorio() {
            return String.fromCharCode(int(random(65, 190))); // Letras mayúsculas A-Z
        }
        
   
        function reproducirSonido() {
        }
        
        function detenerSonido() {
        }



function reproducirSonido(frecuencia) {
    if (!audioCtx) return;



    let oscilador = audioCtx.createOscillator();
    oscilador.frequency.value = frecuencia;
    oscilador.type = 'sine';
    oscilador.connect(gainNode);
    oscilador.start();
}


function inicializarAudio() {
    if (!audioCtx) {
        audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        gainNode = audioCtx.createGain();
        compressor = audioCtx.createDynamicsCompressor();

        compressor.threshold.setValueAtTime(-50, audioCtx.currentTime);
        compressor.knee.setValueAtTime(40, audioCtx.currentTime); 
        compressor.ratio.setValueAtTime(12, audioCtx.currentTime);
        compressor.attack.setValueAtTime(0, audioCtx.currentTime);
        compressor.release.setValueAtTime(0.25, audioCtx.currentTime);
        gainNode.gain.value = 0.1;
 gainNode.connect(compressor);
        compressor.connect(audioCtx.destination);    }
}
function handleMoveEvent(e) {
    let x, y;
    if (e.type === 'mousemove') {
        x = e.clientX;
        y = e.clientY;
    } else if (e.type === 'touchmove' && e.touches) {
        x = e.touches[0].clientX;
        y = e.touches[0].clientY;
    } else {
        return; 
    }

    if (!audioCtx) return; 

    let frecuencia = map(x, 0, window.innerWidth, 20, 100);
    let duracionNota = map(y, 0, window.innerHeight, 0.1, 1);

    if (osciladoresActivos.length > 0) {
        osciladoresActivos.forEach(osc => {
            osc.frequency.setValueAtTime(frecuencia, audioCtx.currentTime);
        });
    }

    osciladoresActivos.forEach(osc => osc.stop());
    osciladoresActivos = [];

    let oscilador = audioCtx.createOscillator();
    oscilador.frequency.value = frecuencia;
    oscilador.type = 'sine';
    oscilador.connect(gainNode);
    oscilador.start();
    oscilador.stop(audioCtx.currentTime + duracionNota);

    osciladoresActivos.push(oscilador);
}

document.body.addEventListener('mousemove', handleMoveEvent);
document.body.addEventListener('touchmove', handleMoveEvent);


    document.body.addEventListener('touchmove', function(e) {
    if (e.touches && e.touches.length > 0) {
        setValueAtTime(e.touches[0].clientX, e.touches[0].clientY);
    }
});
let shuffleIntervalId = null;

document.body.addEventListener('click', function() {
    if (!shuffleIntervalId) {
        shuffleIntervalId = setInterval(function() {
            shuffleAscii(document.getElementById('ascii-sol'));
            shuffleAscii(document.getElementById('ascii-luna'));
            shuffleAscii(document.getElementById('ascii-cat'));

        }, 30); 
    }
});





function shuffleAscii(element) {
    let newText = '';
    const characters = ['@', '#', '$', '%', '&', '*', '-', '+', '=', '?', ';', ':', ',', '.'];

    for (let char of element.innerText) {
        if (characters.includes(char)) {
            let randomChar = characters[Math.floor(Math.random() * characters.length)];
            newText += randomChar;
        } else {
            newText += char;
        }
    }

    element.innerText = newText;
}







function generarRuidoBlanco(duracion = 10) {
    const bufferSize = audioCtx.sampleRate * duracion; 
    const buffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);
    const data = buffer.getChannelData(0);

    for (let i = 0; i < bufferSize; i++) {
        data[i] = Math.random() * 2 - 1;
    }

    whiteNoiseSource = audioCtx.createBufferSource();
    whiteNoiseSource.buffer = buffer;
    whiteNoiseSource.loop = true;
    whiteNoiseSource.connect(gainNode);
    whiteNoiseSource.start(0);
    whiteNoiseSource.stop(audioCtx.currentTime + duracion);

}
    



document.getElementById('ascii-cat').addEventListener('click', function(event) {
    event.stopPropagation(); 

    moverYMostrarGatoAscii();
    const asciiCatElement = document.getElementById('ascii-cat');

    if (!audioCtx) {
        audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    }
});
let contadorApariciones = 0;

function cicloAparicionGato() {
    const asciiCatElement = document.getElementById('ascii-cat');
    if (contadorApariciones === 0) {
        asciiCatElement.style.display = 'none'; // Asegurar que comienza oculto
    }
    const intervalo = setInterval(() => {
        if (asciiCatElement.style.display === 'none') {
            const asciiContainer = document.getElementById('ascii-art');
            const newX = Math.random() * (asciiContainer.offsetWidth - asciiCatElement.offsetWidth);
            const newY = Math.random() * (asciiContainer.offsetHeight - asciiCatElement.offsetHeight);

            asciiCatElement.style.left = `${newX}px`;
            asciiCatElement.style.top = `${newY}px`;
            asciiCatElement.style.display = 'block';


            contadorApariciones++;
        } else {
            asciiCatElement.style.display = 'none';
        }

        if (contadorApariciones >= 3) {
            clearInterval(intervalo);
            contadorApariciones = 0; 
        }
    }, random); 
}

document.getElementById('ascii-cat').addEventListener('click', function(event) {
    cicloAparicionGato(); 
});






function startAudioContext() {
    if (!audioCtx) {
        audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        oscilador = audioCtx.createOscillator();
        gainNode = audioCtx.createGain();

        const delay = audioCtx.createDelay(1.0);
        const delayGain = audioCtx.createGain();
        delay.delayTime.value = 0.2; 
        delayGain.gain.value = 0.5;  

        delay.connect(delayGain);
        delayGain.connect(delay);
        delayGain.connect(audioCtx.destination); 

        oscilador.connect(gainNode);
        gainNode.connect(audioCtx.destination);
        gainNode.connect(delay); 

        oscilador.start();
    }
}








</script>

<script>
    let sketch2 = function(p) {
  let asciiCat = `
  
         
  ☁☁ ☁ 
  

  `;

  p.setup = function() {
    p.createCanvas(710, 200);
    p.textSize(32);
    p.fill(255);
    x = p.random(p.width - 100); 
        y = p.random(p.height - 100); 
    };

  p.draw = function() {
    p.background(0);

    let x = p.random(p.width - 100); 
    let y = p.random(p.height - 250); 

    p.text(asciiCat, x, y,x);

  };

  p.mouseClicked = function() {
    p.clear(); 
    p.draw(); 
  };
};

new p5(sketch2, 'tree-sketch-container');
    </script>

<script>
    new p5(function(p) {
  const barSize = 50; 
  let lastBarIndex = -1; 

  p.setup = function() {
    let canvas = p.createCanvas(90, 200); 
    canvas.parent('color-bar-sketch-container'); 
    canvas.style('opacity', '0.2'); 

    p.colorMode(p.HSB, p.width, p.width, p.width); 
    p.noStroke();
    p.background(0);
  };

  p.draw = function() {
    let mouseXAdjusted = p.mouseX - (p.width / 2); 
    let mouseYAdjusted = p.mouseY - (p.height / 2); 
  
    let whichBarIndex = p.int(p.min(p.abs(mouseXAdjusted), p.abs(mouseYAdjusted)) / barSize);
    
    if (whichBarIndex !== lastBarIndex) {
      let startX = (p.width / 2) - whichBarIndex * barSize;
      let startY = (p.height / 2) - whichBarIndex * barSize;

      for (let i = 0; i <= whichBarIndex; i++) {
        let x = startX + i * barSize;
        let y = startY + i * barSize;
        
        p.fill(p.mouseX, p.width, p.width); 
        p.rect(x, y, barSize, barSize); 
      }
      lastBarIndex = whichBarIndex;
    }
  };

}, 'color-bar-sketch-container'); 

    </script>
    
    
   <script>
new p5(function(p) {
    const barHeight = 20; 
    let lastBar = -1; 
  
    p.setup = function() {
      let canvas = p.createCanvas(220, 200);
      canvas.parent('color-bar-sketch-container');
      canvas.style('opacity', '0.5');
  
      p.colorMode(p.HSB, p.width, p.width, p.width);
      p.noStroke();
      p.background(0);
    };
  
    p.draw = function() {
      let whichBar = p.int(p.mouseY / barHeight);
      if (whichBar !== lastBar) {
        let barY = whichBar * barHeight;
        p.fill(p.mouseX, p.width, p.width);
        p.rect(0, barY, p.width, barHeight);
        lastBar = whichBar;
      }
  
    
      if (p.random() < 0.2) { 
        applyGlitch(p);
      }
    };
  
    function applyGlitch(p) {
      const glitchBars = p.int(p.random(1, 7));
      for (let i = 0; i < glitchBars; i++) {
        const glitchY = p.int(p.random(p.height / barHeight)) * barHeight;
        const glitchHeight = p.random(barHeight / 4, barHeight * 5);
        const glitchWidth = p.random(p.width * 0.1, p.width);
        const glitchX = p.random(p.width - glitchWidth);
        const r = p.random(255);
        const g = p.random(255);
        const b = p.random(255);
  
        p.fill(r, g, b);
        p.rect(glitchX, glitchY, glitchWidth, glitchHeight);
      }
    }
  
  }, 'color-bar-sketch-container');
  
</script>

<script>
   document.addEventListener('keydown', function(event) {
    if (!audioCtx) startAudioContext(); 

    switch(event.key) {
        case 's':
        case 'S':
            togglePlay('ascii-sol', 'ambient.wav');
            break;
        case 'l':
        case 'L':
            togglePlay('ascii-luna', '0S.wav');
            break;
        case ' ':
            toggleAsciiCatAndWhiteNoise();
            event.preventDefault(); 

            break;
        case 'ArrowUp':
        case 'ArrowDown':
        case 'ArrowLeft':
        case 'ArrowRight':
            handleArrowKeys(event.key);
            break;
    }
});


function moverYMostrarGatoAscii(mostrar) {
    console.log("moverYMostrarGatoAscii: mostrar =", mostrar); // Depuración
    const asciiCatElement = document.getElementById('ascii-cat');
    if (mostrar) {
        const newX = Math.random() * (window.innerWidth - asciiCatElement.offsetWidth);
        const newY = Math.random() * (window.innerHeight - asciiCatElement.offsetHeight);
        asciiCatElement.style.left = `${newX}px`;
        asciiCatElement.style.top = `${newY}px`;
        asciiCatElement.style.display = 'block';
    } else {
        asciiCatElement.style.display = 'none';
    }
}


function toggleAsciiCatAndWhiteNoise() {
    const asciiCatElement = document.getElementById('ascii-cat');
    const isVisible = asciiCatElement.style.display === 'block';

    if (isVisible) {
        if (whiteNoiseSource) {
            whiteNoiseSource.disconnect();
            whiteNoiseSource = null;
        }
        moverYMostrarGatoAscii(false); 
    } else {
        generarRuidoBlanco(22); 
    }
}





let catVisible = false; 

document.getElementById('ascii-cat').addEventListener('click', function() {

    generarRuidoBlanco();  
    catVisible = !catVisible;
    this.style.display = catVisible ? 'block' : 'true';
    generarRuidoBlanco.stop(audioCtx.currentTime + duracion);

});


document.addEventListener('keydown', function(event) {
    if (event.key === ' ') {
        catVisible = !catVisible; 
        document.getElementById('ascii-cat').style.display = catVisible ? 'block' : 'none';
        event.preventDefault(); 
    }
});


document.body.addEventListener('mousemove', handleMovement);
document.body.addEventListener('touchmove', handleMovement);

function handleMovement(event) {
    let x, y;
    if (event.touches) {
        x = event.touches[0].clientX;
        y = event.touches[0].clientY;
    } else {
        x = event.clientX;
        y = event.clientY;
    }

    let newGain = Math.max(0, Math.min(1, (window.innerHeight - y) / window.innerHeight));
    gainNode.gain.value = newGain;

}

    
    </script>
    <script>
       
        let rainSketch = function(p) {
            let raindrops = [];
    
            p.setup = function() {
                p.createCanvas(p.windowWidth, p.windowHeight);
                p.frameRate(100);
            };
    
            p.draw = function() {
                p.clear();
                for (let i = raindrops.length - 1; i >= 0; i--) {
                    raindrops[i].update();
                    raindrops[i].display();
                    if (raindrops[i].isOffScreen()) {
                        raindrops.splice(i, 1);
                    }
                }
    
                if (p.frameCount % 2 === 0) {
                    raindrops.push(new Raindrop(p));
                }
            };
    
            class Raindrop {
                constructor(p) {
                    this.p = p;
                    this.x = p.random(p.width);
                    this.y = 0;
                    this.z = p.random(0, 20);
                    this.len = p.map(this.z, 0, 20, 10, 20);
                    this.yspeed = p.map(this.z, 0, 20, 4, 10);
                }
    
                update() {
                    this.y += this.yspeed;
                    let grav = p.map(this.z, 0, 20, 0.01, 0.2);
                    this.yspeed += grav;
                }
    
                display() {
                    p.stroke(138, 43, 300);
                    p.line(this.x, this.y, this.x, this.y + this.len);
                }
    
                isOffScreen() {
                    return this.y > this.p.height;
                }
            }
        };
    
        new p5(rainSketch, 'rain-sketch-container');
    </script>
</body>
</html>












